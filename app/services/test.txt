WARNING:app.services.context:MongoDB connection failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 68043e9e57628f3870d216ef, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>. Using in-memory storage.
ERROR:app.services.conversation_handler:Failed to create session demo-session: module 'pymongo' has no attribute 'datetime'
ERROR:app.services.conversation_handler:Error in conversation handler: module 'pymongo' has no attribute 'datetime'
ERROR:app.routes.chat_routes:Error in chat endpoint: 'previous_intent'
ERROR:app.routes.chat_routes:Traceback (most recent call last):
  File "/workspaces/ssuubi-mental-health-bot/app/routes/chat_routes.py", line 51, in chat
    response_data = _process_message(handler, message, session_id, user_id, language)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/ssuubi-mental-health-bot/app/routes/chat_routes.py", line 85, in _process_message
    "previous_intent": context["previous_intent"].value if context["previous_intent"] else None
                                                           ~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyError: 'previous_intent'

INFO:werkzeug:127.0.0.1 - - [20/Apr/2025 00:24:03] "POST /api/chat HTTP/1.1" 500 -
